/* ===== CSS Reset (lite) ===== */
*,
*::before,
*::after { box-sizing: border-box; }
html, body { margin: 0; padding: 0; }
img { max-width: 100%; display: block; }
button { font: inherit; border: none; background: transparent; cursor: pointer; }
a { color: inherit; text-decoration: none; }

/* ===== Theme Tokens ===== */
:root{
  --bg: #fff7fb;
  --card: #ffffff;
  --ink: #3a2e39;
  --ink-weak:#6b6370;
  --brand:#ff5db3;
  --brand-2:#ff9f66;
  --accent:#7c9cf6;
  --ok:#1bb978;
  --warn:#ffb020;
  --line:#f1e6f2;
  --shadow: 0 8px 28px rgba(30,10,40,.08);
  --radius-xl: 20px;
  --radius-lg: 16px;
  --radius-md: 12px;
  --radius-sm: 10px;
  --pad: 20px;
  --pad-lg: 28px;
  --fw-bold: 700;
  --fw-med: 600;
  --fw-reg: 500;
  --font: "Inter","Hiragino Kaku Gothic ProN", "Noto Sans JP", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji";
}

@media (prefers-color-scheme: dark){
  :root{
    --bg:#0f0a11;
    --card:#17111c;
    --ink:#f6ecf8;
    --ink-weak:#cabdd1;
    --line:#2a2030;
    --shadow: 0 10px 34px rgba(0,0,0,.35);
  }
}

/* ===== Base ===== */
body.theme{
  background: radial-gradient(1200px 700px at 20% -10%, #ffeaf5 0%, rgba(255,234,245,0) 60%),
              radial-gradient(900px 600px at 120% 0%, #fff1e6 0%, rgba(255,241,230,0) 60%),
              var(--bg);
  color: var(--ink);
  font-family: var(--font);
  line-height: 1.65;
}

.container{
  max-width: 960px;
  margin: 0 auto;
  padding: 24px 16px 120px;
}

/* ===== Header / Tabbar ===== */
.site-header{
  position: sticky; top: 0; z-index: 30;
  display:flex; align-items:center; justify-content:space-between;
  padding: 14px 16px;
  background: linear-gradient(180deg, rgba(255,255,255,.9), rgba(255,255,255,.7));
  backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--line);
}

.brand{ display:flex; align-items:center; gap: 10px; }
.brand__icon{ font-size: 20px; }
.brand__title{ font-weight: var(--fw-bold); }

.pill-btn{
  padding: 10px 14px; border-radius: 999px;
  background: #ffe6f4; color: var(--brand);
  box-shadow: var(--shadow);
}

.tabbar{
  position: sticky; top: 56px; z-index: 25;
  display:flex; gap: 8px; justify-content: center;
  padding: 8px 12px;
  background: linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.65));
  backdrop-filter: blur(8px);
  border-bottom: 1px solid var(--line);
}
.tabbar__link{
  display:grid; place-items:center;
  gap: 2px; width: 88px; padding: 10px 0;
  border-radius: 12px; color: var(--ink-weak);
  transition: transform .15s ease, background .15s ease, color .15s ease;
}
.tabbar__link:hover{ transform: translateY(-1px); background: #fff; }
.tabbar__link.is-active{ color: var(--brand); background: #fff0f7; }
.tabbar__icon{ font-size: 18px; }
.tabbar__text{ font-size: 12px; }

/* ===== Hero ===== */
.page-hero{
  display:flex; align-items:center; justify-content:space-between; gap: 12px;
  margin: 18px 0 10px;
}
.page-title{
  font-size: clamp(20px, 3vw, 28px);
  margin: 0; letter-spacing: .02em;
}
.segmented{
  display:flex; gap: 8px; background: #fff; padding: 6px; border-radius: 999px;
  border:1px solid var(--line); box-shadow: var(--shadow);
}
.segmented__btn{
  padding: 8px 12px; border-radius: 999px; color: var(--ink-weak);
  background: transparent; transition: background .2s,color .2s;
}
.segmented__btn.is-selected{ background: #ffe6f4; color: var(--brand); }

/* ===== Cards ===== */
.card{
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow);
  padding: var(--pad-lg);
  margin: 18px 0;
}
.card--panel{ padding-top: 18px; }

.panel-head{
  display:flex; align-items:center; gap: 14px; margin-bottom: 14px;
}
.panel-icon{
  width: 44px; height: 44px; border-radius: 14px;
  display:grid; place-items:center;
  background: linear-gradient(135deg, #ffe0f2, #fff1e6);
  font-size: 22px;
}
.panel-title{ margin: 0; font-size: 20px; font-weight: var(--fw-bold); }
.panel-desc{ margin: 2px 0 0; color: var(--ink-weak); font-size: 14px; }

/* ===== Calendar Head ===== */
.calendar-head{
  display:flex; align-items:center; justify-content:space-between;
  gap: 10px; margin: 8px 0 10px;
}
.chip{
  display:inline-flex; align-items:center; gap: 8px;
  padding: 8px 12px; border-radius: 999px; border:1px solid var(--line);
  background: #fff; box-shadow: var(--shadow);
}
.chip--calendar .chip__icon{ filter: saturate(1.2); }
.nav-icon{
  width: 40px; height: 40px; border-radius: 12px;
  background: #fff0f7; color: var(--brand);
  border: 1px solid var(--line); box-shadow: var(--shadow);
  display:grid; place-items:center; font-size: 16px;
}
.nav-icon:active{ transform: translateY(1px); }

/* ===== Calendar Grid ===== */
.calendar{
  border: 1px solid var(--line);
  border-radius: var(--radius-lg);
  padding: 8px;
  background: linear-gradient(180deg, #fff, #fffafc);
}

.calendar__weekday{
  display:grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 6px; margin: 4px 4px 8px;
}
.calendar__cell--wk{
  text-align: center; font-size: 13px; color: var(--ink-weak);
  padding: 6px 0;
}

.calendar__grid{
  display:grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 6px;
  padding: 4px;
}

.day{
  position: relative;
  background:#ffffff;
  border:1px solid var(--line);
  border-radius: 14px;
  aspect-ratio: 1 / 1;
  display:flex; align-items:flex-start; justify-content:flex-end;
  padding: 8px;
  transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
}
.day:hover{ transform: translateY(-1px); box-shadow: var(--shadow); }
.day.is-out{ background: #fbf8fc; color: var(--ink-weak); }
.day.is-today{ outline: 2px solid var(--accent); outline-offset: -2px; }
.day__num{ font-weight: var(--fw-med); font-size: 14px; }

.day__dots{
  position: absolute; left: 8px; bottom: 8px;
  display:flex; gap:6px; align-items:center;
}
.dot{ width: 8px; height: 8px; border-radius: 50%; display:inline-block; }
.dot--future{ background: var(--brand); box-shadow: 0 0 0 3px rgba(255,93,179,.15); }
.dot--past{ background: #7b7f92; box-shadow: 0 0 0 3px rgba(123,127,146,.15); }

.legend{
  display:flex; gap: 12px; align-items:center;
  border-top:1px dashed var(--line); margin-top: 12px; padding: 10px 6px 4px;
  color: var(--ink-weak); font-size: 12px;
}

/* ===== Birthday List ===== */
.bday-list{ display:flex; flex-direction:column; gap: 12px; }

.bday{
  display:flex; align-items:center; gap: 14px;
  border:1px solid var(--line);
  background: linear-gradient(180deg, #fff, #fffafc);
  border-radius: var(--radius-lg);
  padding: 12px;
}
.bday__icon{
  width: 56px; height: 56px; border-radius: 18px;
  display:grid; place-items:center;
  background: radial-gradient(75% 75% at 30% 20%, #ffe0f3 0%, #ffd1e9 35%, #ffc7e4 100%);
  font-size: 22px; color: #fff; box-shadow: var(--shadow);
}
.bday__body{ flex:1; min-width: 0; }
.bday__name{
  margin: 0; font-weight: var(--fw-bold); letter-spacing:.01em;
}
.bday__meta{
  margin: 2px 0 0; color: var(--ink-weak); font-size: 13px;
}
.bday__right{ display:flex; align-items:center; gap: 8px; }
.badge{
  padding: 6px 10px; border-radius: 999px; font-size: 12px;
  border:1px solid var(--line);
  background:#fff;
}
.badge--plan{ background: #fff0f7; color: var(--brand); border-color: #ffd3ea; }
.badge--done{ background: #f4f5f8; color: #667085; border-color: #e4e7ec; }
.bday__place{ display:flex; align-items:center; gap:6px; color: var(--ink-weak); font-size: 13px; }
.bday__place::before{ content: "üìç"; }

/* ===== Message Card ===== */
.card--message .message-head{
  display:flex; align-items:center; gap: 10px; margin-bottom: 8px;
}
.card--message h3{ margin: 0; font-size: 18px; }
.icon-heart{ font-size: 18px; }

/* ===== Footer ===== */
.site-footer{
  position: sticky; bottom: 0;
  display:flex; justify-content:center; padding: 16px;
  color: var(--ink-weak);
  background: linear-gradient(180deg, rgba(255,255,255,.0), rgba(255,255,255,.7));
  backdrop-filter: blur(6px);
  border-top: 1px solid var(--line);
}

/* ===== Utilities ===== */
.hidden{ display:none !important; }
@media (min-width: 680px){
  .calendar-head{ margin-top: 2px; }
  .day__num{ font-size: 15px; }
}
@media (max-width: 420px){
  .tabbar__link{ width: 72px; }
  .bday__place{ display:none; }
}
